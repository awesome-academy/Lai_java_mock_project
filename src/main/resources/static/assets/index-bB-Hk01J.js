import{a as r,j as T,k as j,b as F,r as V,d as c,o as u,h as e,l as p,v as b,i as v,g,t as a,F as N,m as C,n as D,e as B,w as S,f as M,p as y}from"./index-DZchovPR.js";const $={class:"bg-gradient-to-r from-blue-600 to-purple-600 py-8"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"bg-white rounded-lg shadow-lg p-4"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},P={class:"flex items-end"},E={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},I={class:"flex flex-col lg:flex-row gap-8"},R={class:"lg:w-3/4"},U={class:"bg-white rounded-lg shadow-md p-4 mb-6"},H={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},X={class:"text-gray-600",id:"resultCount"},K={id:"toursContainer",class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z=["onClick"],A=["src","alt"],J={class:"p-4"},O={class:"flex items-center gap-2 mb-2"},Q={class:"bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded"},W={class:"bg-green-100 text-green-600 text-xs px-2 py-1 rounded"},Y={class:"text-lg font-bold text-gray-800 mb-2"},Z={class:"text-gray-600 text-sm mb-3"},ee={class:"flex justify-between items-center"},te={class:"text-2xl font-bold text-blue-600"},se={__name:"index",setup(le){const m=r([]),n=T(),h=j(),o=r(n.query.keywords||""),i=r(n.query.startDate||""),d=r(n.query.guests||1),x=r(0),f=async()=>{try{const l=await M.get("/api/tours",{params:{keywords:o.value,startDate:i.value,guests:d.value}});m.value=l.data.data.data,x.value=l.data.data.totalItems}catch(l){console.error("Error fetching tours:",l)}},w=(l="")=>{const t=document.createElement("div");return t.innerHTML=l,t.textContent||t.innerText||""},k=(l="",t=150)=>l.length>t?l.slice(0,t)+"...":l;return F(async()=>{await f()}),(l,t)=>{const _=V("router-link");return u(),c("div",null,[e("div",$,[e("div",q,[t[8]||(t[8]=e("h1",{class:"text-white text-3xl font-bold mb-4"},"Tìm kiếm Tour",-1)),e("div",G,[e("div",L,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Điểm đến",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value=s),type:"text",id:"searchDestination",placeholder:"Nhập điểm đến...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,o.value]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ngày khởi hành",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.value=s),type:"date",id:"searchDate",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,i.value]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Số người",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value=s),type:"number",id:"searchPeople",min:"1",value:"1",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[b,d.value]])]),e("div",P,[e("button",{onClick:t[3]||(t[3]=s=>f()),id:"searchBtn",class:"w-full bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition"},[...t[7]||(t[7]=[e("i",{class:"fas fa-search mr-2"},null,-1),v("Tìm kiếm ",-1)])])])])])])]),e("div",E,[e("div",I,[t[15]||(t[15]=g('<div class="lg:w-1/4"><div class="bg-white rounded-lg shadow-md p-6 sticky top-24"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold text-gray-800">Bộ lọc</h2><button id="clearFilters" class="text-sm text-blue-600 hover:text-blue-700">Xóa tất cả</button></div><div class="mb-6"><button class="filter-toggle w-full flex justify-between items-center py-2 font-semibold text-gray-700" data-target="priceFilter"><span>Giá tour</span><i class="fas fa-chevron-down"></i></button><div id="priceFilter" class="filter-section active mt-3"><input type="range" id="priceRange" min="0" max="50000000" step="1000000" value="50000000" class="price-slider w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"><div class="flex justify-between mt-2 text-sm text-gray-600"><span>0đ</span><span id="priceValue" class="font-semibold text-blue-600">50,000,000đ</span></div></div></div><div class="mb-6 border-t pt-4"><button class="filter-toggle w-full flex justify-between items-center py-2 font-semibold text-gray-700" data-target="durationFilter"><span>Thời gian</span><i class="fas fa-chevron-down"></i></button><div id="durationFilter" class="filter-section active mt-3"><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="duration-filter mr-2 w-4 h-4 text-blue-600 rounded" value="1-3"><span class="text-gray-700">1-3 ngày</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="duration-filter mr-2 w-4 h-4 text-blue-600 rounded" value="4-7"><span class="text-gray-700">4-7 ngày</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="duration-filter mr-2 w-4 h-4 text-blue-600 rounded" value="8-14"><span class="text-gray-700">8-14 ngày</span></label><label class="flex items-center cursor-pointer"><input type="checkbox" class="duration-filter mr-2 w-4 h-4 text-blue-600 rounded" value="15+"><span class="text-gray-700">Trên 15 ngày</span></label></div></div><div class="mb-6 border-t pt-4"><button class="filter-toggle w-full flex justify-between items-center py-2 font-semibold text-gray-700" data-target="categoryFilter"><span>Loại tour</span><i class="fas fa-chevron-down"></i></button><div id="categoryFilter" class="filter-section active mt-3"><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="category-filter mr-2 w-4 h-4 text-blue-600 rounded" value="beach"><span class="text-gray-700">Biển đảo</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="category-filter mr-2 w-4 h-4 text-blue-600 rounded" value="mountain"><span class="text-gray-700">Núi rừng</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="category-filter mr-2 w-4 h-4 text-blue-600 rounded" value="city"><span class="text-gray-700">Thành phố</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="checkbox" class="category-filter mr-2 w-4 h-4 text-blue-600 rounded" value="culture"><span class="text-gray-700">Văn hóa</span></label><label class="flex items-center cursor-pointer"><input type="checkbox" class="category-filter mr-2 w-4 h-4 text-blue-600 rounded" value="adventure"><span class="text-gray-700">Mạo hiểm</span></label></div></div><div class="border-t pt-4"><button class="filter-toggle w-full flex justify-between items-center py-2 font-semibold text-gray-700" data-target="ratingFilter"><span>Đánh giá</span><i class="fas fa-chevron-down"></i></button><div id="ratingFilter" class="filter-section active mt-3"><label class="flex items-center mb-2 cursor-pointer"><input type="radio" name="rating" class="rating-filter mr-2" value="5"><span class="text-yellow-400">★★★★★</span><span class="text-gray-700 ml-2">(5 sao)</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="radio" name="rating" class="rating-filter mr-2" value="4"><span class="text-yellow-400">★★★★☆</span><span class="text-gray-700 ml-2">(4 sao trở lên)</span></label><label class="flex items-center mb-2 cursor-pointer"><input type="radio" name="rating" class="rating-filter mr-2" value="3"><span class="text-yellow-400">★★★☆☆</span><span class="text-gray-700 ml-2">(3 sao trở lên)</span></label></div></div></div></div>',1)),e("div",R,[e("div",U,[e("div",H,[e("div",null,[t[9]||(t[9]=e("h2",{class:"text-xl font-bold text-gray-800"},"Kết quả tìm kiếm",-1)),e("p",X,"Tìm thấy "+a(x.value)+" tour",1)]),t[10]||(t[10]=g('<div class="flex items-center gap-4"><div class="flex items-center gap-2"><label class="text-sm text-gray-600">Sắp xếp:</label><select id="sortSelect" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="popular">Phổ biến</option><option value="price-asc">Giá tăng dần</option><option value="price-desc">Giá giảm dần</option><option value="rating">Đánh giá cao</option><option value="newest">Mới nhất</option></select></div></div>',1))])]),e("div",K,[(u(!0),c(N,null,C(m.value,s=>(u(),c("div",{key:s.id,class:"tour-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer",onClick:ae=>D(h).push(`/tours/${s.id}`)},[e("img",{src:s.thumbnail,alt:s.title,class:"w-full h-48 object-cover"},null,8,A),e("div",J,[e("div",O,[e("span",Q,a(s.duration_days)+" ngày",1),e("span",W,a(s.location),1)]),e("h3",Y,a(s.title),1),e("p",Z,a(k(w(s.description),150)),1),t[13]||(t[13]=e("div",{class:"flex items-center mb-3"},[e("span",{class:"text-yellow-400"},"${stars}"),e("span",{class:"text-gray-600 text-sm ml-2"},"5 (294 đánh giá)")],-1)),e("div",ee,[e("div",null,[t[11]||(t[11]=e("span",{class:"text-gray-500 text-sm"},"Giá từ",-1)),e("p",te,a(s.price.toLocaleString("vi-VN"))+"đ",1)]),B(_,{to:`/tours/${s.id}`,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:S(()=>[...t[12]||(t[12]=[v(" Xem chi tiết ",-1)])]),_:1},8,["to"])])])],8,z))),128))]),t[14]||(t[14]=g('<div class="mt-8 flex justify-center"><nav class="flex items-center gap-2"><button id="prevPage" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"><i class="fas fa-chevron-left"></i></button><div id="pageNumbers" class="flex gap-2"></div><button id="nextPage" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"><i class="fas fa-chevron-right"></i></button></nav></div>',1))])])])])}}};typeof y=="function"&&y(se);export{se as default};
