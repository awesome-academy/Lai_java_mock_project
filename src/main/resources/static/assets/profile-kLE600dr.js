import{u as m,k as v,a as f,b as y,d as x,s as h,o as k,h as t,g as d,t as i,l,v as n,f as w,p as u}from"./index-DZchovPR.js";const S={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},C={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},V={class:"lg:col-span-1"},B={class:"bg-white rounded-lg shadow-md p-6"},L={class:"text-center mb-6"},N={class:"relative inline-block"},E=["src"],M={class:"text-xl font-bold text-gray-900"},T={class:"text-gray-600"},j={class:"lg:col-span-3"},A={id:"personal-tab",class:"tab-content"},H={class:"bg-white rounded-lg shadow-md p-6"},_={id:"personal-form",class:"space-y-6"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"flex justify-end space-x-4"},U={__name:"profile",setup(D){m({title:"Trang cá nhân - SunBooking",meta:[{name:"description",content:"Quản lý thông tin cá nhân, bảo mật và tùy chọn của bạn trên SunBooking."}]});const c=v(),s=f(null),g=()=>{const o=document.querySelectorAll(".menu-item"),e=document.querySelectorAll(".tab-content");o.forEach(a=>{a.addEventListener("click",()=>{const p=a.dataset.tab;o.forEach(r=>{r.classList.remove("bg-blue-50","text-blue-600"),r.classList.add("text-gray-700","hover:bg-gray-50")}),a.classList.add("bg-blue-50","text-blue-600"),a.classList.remove("text-gray-700","hover:bg-gray-50"),e.forEach(r=>r.classList.add("hidden")),document.getElementById(`${p}-tab`).classList.remove("hidden")})})},b=async()=>{try{const o=await w.post("/api/auth/update-profile",s.value);o.data.success?(localStorage.setItem("user",JSON.stringify(o.data.data)),s.value=o.data.data,alert("Cập nhật thông tin thành công!")):alert("Cập nhật thông tin thất bại: "+o.data.message)}catch(o){alert("Lỗi khi cập nhật thông tin: "+o.message)}};return y(()=>{g();const o=JSON.parse(localStorage.getItem("user"));if(o)s.value=o;else{c.push("/login");return}}),(o,e)=>s.value?(k(),x("section",S,[t("div",C,[t("div",V,[t("div",B,[t("div",L,[t("div",N,[t("img",{id:"profile-avatar",src:"https://ui-avatars.com/api/?name="+s.value?.name+"&background=3b82f6&color=fff&size=128",alt:"Profile",class:"w-24 h-24 rounded-full mx-auto mb-4"},null,8,E),e[6]||(e[6]=t("button",{class:"absolute bottom-4 right-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition"},[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})])],-1))]),t("h2",M,i(s.value.name),1),t("p",T,i(s.value.email),1)]),e[7]||(e[7]=d('<nav class="space-y-2"><button class="menu-item w-full text-left px-4 py-3 rounded-lg bg-blue-50 text-blue-600 font-medium" data-tab="personal"><div class="flex items-center"><svg class="h-5 w-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> Thông tin cá nhân </div></button></nav>',1))]),e[8]||(e[8]=d('<div class="bg-white rounded-lg shadow-md p-6 mt-6"><h3 class="font-bold text-gray-900 mb-4">Thống kê</h3><div class="space-y-3"><div class="flex justify-between items-center"><span class="text-gray-600">Số tour đã đi</span><span class="font-bold text-blue-600">12</span></div><div class="flex justify-between items-center"><span class="text-gray-600">Đánh giá</span><span class="font-bold text-blue-600">8</span></div></div></div>',1))]),t("div",j,[t("div",A,[t("div",H,[e[15]||(e[15]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Thông Tin Cá Nhân",-1)),t("form",_,[t("div",z,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Họ và tên ",-1)),l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),type:"text",value:"Nguyễn Văn A",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[n,s.value.name]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),type:"email",value:"nguyenvana@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[n,s.value.email]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Số điện thoại ",-1)),l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.phone=a),type:"tel",value:"0912345678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[n,s.value.phone]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Ngày sinh ",-1)),l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.birthday=a),type:"date",value:"1990-01-01",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[n,s.value.birthday]])])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Địa chỉ ",-1)),l(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.address=a),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},"123 Đường ABC, Quận 1, TP. Hồ Chí Minh",512),[[n,s.value.address]])]),t("div",I,[e[14]||(e[14]=t("button",{type:"button",class:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition font-medium"}," Hủy ",-1)),t("button",{onClick:e[5]||(e[5]=a=>b()),type:"button",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium"}," Lưu thay đổi ")])])])])])])])):h("",!0)}};typeof u=="function"&&u(U);export{U as default};
